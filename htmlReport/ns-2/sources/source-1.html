


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > StudentController</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">portfolio.StudentManagement.controller</a>
</div>

<h1>Coverage Summary for Class: StudentController (portfolio.StudentManagement.controller)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">StudentController</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (5/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (8/8)
  </span>
</td>
</tr>
  <tr>
    <td class="name">StudentController$$SpringCGLIB$$0</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (5/5)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (8/8)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package portfolio.StudentManagement.controller;
&nbsp;
&nbsp;import io.swagger.v3.oas.annotations.Operation;
&nbsp;import io.swagger.v3.oas.annotations.Parameter;
&nbsp;import io.swagger.v3.oas.annotations.enums.ParameterIn;
&nbsp;import io.swagger.v3.oas.annotations.media.ArraySchema;
&nbsp;import io.swagger.v3.oas.annotations.media.Content;
&nbsp;import io.swagger.v3.oas.annotations.media.Schema;
&nbsp;import io.swagger.v3.oas.annotations.responses.ApiResponse;
&nbsp;import jakarta.validation.Valid;
&nbsp;import jakarta.validation.constraints.Pattern;
&nbsp;import java.util.List;
&nbsp;import org.springframework.beans.factory.annotation.Autowired;
&nbsp;import org.springframework.http.ResponseEntity;
&nbsp;import org.springframework.validation.annotation.Validated;
&nbsp;import org.springframework.web.bind.annotation.GetMapping;
&nbsp;import org.springframework.web.bind.annotation.PathVariable;
&nbsp;import org.springframework.web.bind.annotation.PostMapping;
&nbsp;import org.springframework.web.bind.annotation.PutMapping;
&nbsp;import org.springframework.web.bind.annotation.RequestBody;
&nbsp;import org.springframework.web.bind.annotation.RestController;
&nbsp;import portfolio.StudentManagement.data.ErrorResponse;
&nbsp;import portfolio.StudentManagement.domain.StudentDetail;
&nbsp;import portfolio.StudentManagement.exception.StudentCourseNotFoundException;
&nbsp;import portfolio.StudentManagement.exception.StudentNotFoundException;
&nbsp;import portfolio.StudentManagement.service.StudentService;
&nbsp;
&nbsp;/**
&nbsp; * 受講生の検索や登録、更新などを行うREST APIとして実行されるControllerです
&nbsp; */
&nbsp;@Validated
&nbsp;@RestController
&nbsp;public class StudentController {
&nbsp;
&nbsp;  private StudentService service;
&nbsp;
&nbsp;  /**
&nbsp;   * コンストラクタ
&nbsp;   *
&nbsp;   * @param service 受講生サービス
&nbsp;   */
&nbsp;  @Autowired
<b class="fc">&nbsp;  public StudentController(StudentService service) {</b>
<b class="fc">&nbsp;    this.service = service;</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * 受講生詳細一覧の全件検索です。 全件検索を行うので、条件指定は行いません。
&nbsp;   *
&nbsp;   * @return 受講生詳細一覧（全件）
&nbsp;   */
&nbsp;  @Operation(
&nbsp;      summary = &quot;受講生詳細一覧の検索&quot;,
&nbsp;      description = &quot;受講生詳細の一覧を検索します。全件検索を行うので、条件指定は行いません。&quot;,
&nbsp;      responses = {@ApiResponse(
&nbsp;          content = @Content(mediaType = &quot;application/json&quot;,
&nbsp;              array = @ArraySchema(schema = @Schema(implementation = StudentDetail.class))
&nbsp;          )
&nbsp;      )}
&nbsp;  )
&nbsp;  @GetMapping(&quot;/studentList&quot;)
&nbsp;  public List&lt;StudentDetail&gt; getStudentList() {
<b class="fc">&nbsp;    return service.getAllStudentDetailList();</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * 受講生検索です IDに紐づく任意の受講生の情報を取得します。 IDに紐づく受講生が存在しない場合エラーを発生させます。
&nbsp;   *
&nbsp;   * @param id 受講生id
&nbsp;   * @return idに紐づく任意の受講生情報
&nbsp;   * @throws StudentNotFoundException 受講生が存在しない場合の例外処理
&nbsp;   */
&nbsp;  @Operation(
&nbsp;      summary = &quot;受講生検索&quot;,
&nbsp;      description = &quot;パスで指定されたIDに該当する受講生を検索します。IDに紐づく受講生が存在しない場合エラーを発生させます。&quot;,
&nbsp;      responses = {
&nbsp;          @ApiResponse(
&nbsp;              responseCode = &quot;200&quot;, description = &quot;ok&quot;,
&nbsp;              content = @Content(
&nbsp;                  mediaType = &quot;application/json&quot;,
&nbsp;                  schema = @Schema(implementation = StudentDetail.class)
&nbsp;              )),
&nbsp;          @ApiResponse(
&nbsp;              responseCode = &quot;404&quot;, description = &quot;指定されたIDの受講生が存在しない場合のエラー&quot;,
&nbsp;              content = @Content(
&nbsp;                  mediaType = &quot;application/json&quot;,
&nbsp;                  schema = @Schema(implementation = ErrorResponse.class)
&nbsp;              )
&nbsp;          ),
&nbsp;          @ApiResponse(
&nbsp;              responseCode = &quot;400&quot;, description = &quot;UUIDの形式が誤っていた際のバリデーションエラー&quot;,
&nbsp;              content = @Content(
&nbsp;                  mediaType = &quot;application/json&quot;,
&nbsp;                  schema = @Schema(implementation = ErrorResponse.class)
&nbsp;              )
&nbsp;          )
&nbsp;      },
&nbsp;      parameters = {
&nbsp;          @Parameter(in = ParameterIn.PATH, name = &quot;id&quot;,
&nbsp;              required = true,
&nbsp;              description = &quot;受講生ID&quot;,
&nbsp;              schema = @Schema(
&nbsp;                  type = &quot;string&quot;,
&nbsp;                  format = &quot;uuid&quot;,
&nbsp;                  description = &quot;自動生成されたUUID&quot;,
&nbsp;                  example = &quot;5998fd5d-a2cd-11ef-b71f-6845f15f510c&quot;
&nbsp;              )
&nbsp;          )}
&nbsp;  )
&nbsp;  @GetMapping(&quot;/student/{id}&quot;)
&nbsp;  public StudentDetail getStudent(@PathVariable @Pattern(
&nbsp;      regexp = &quot;^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$&quot;)
&nbsp;  String id)
&nbsp;      throws StudentNotFoundException {
<b class="fc">&nbsp;    return service.getStudentDetailById(id);</b>
&nbsp;  }
&nbsp;
&nbsp;  /**
&nbsp;   * 受講生詳細を新規登録します。
&nbsp;   *
&nbsp;   * @param studentDetail 受講生詳細
&nbsp;   * @return 処理結果
&nbsp;   */
&nbsp;
&nbsp;  @Operation(
&nbsp;      summary = &quot;受講生登録&quot;,
&nbsp;      description = &quot;受講生を登録します&quot;,
&nbsp;      responses = {
&nbsp;          @ApiResponse(
&nbsp;              responseCode = &quot;200&quot;, description = &quot;ok&quot;,
&nbsp;              content = @Content(
&nbsp;                  mediaType = &quot;application/json&quot;,
&nbsp;                  schema = @Schema(implementation = StudentDetail.class)
&nbsp;              )
&nbsp;          ),
&nbsp;          @ApiResponse(
&nbsp;              responseCode = &quot;400&quot;, description = &quot;リクエストボディのバリデーションエラー&quot;,
&nbsp;              content = @Content(
&nbsp;                  mediaType = &quot;application/json&quot;,
&nbsp;                  schema = @Schema(implementation = ErrorResponse.class)
&nbsp;              )
&nbsp;          )
&nbsp;      },
&nbsp;      requestBody = @io.swagger.v3.oas.annotations.parameters.RequestBody(
&nbsp;          description = &quot;新規登録したい受講生詳細　※受講生のid,remark,isDeleted、受講生コース情報のid,studentId,startDate,endDateは自動付与されるためリクエストボディに含まれません&quot;,
&nbsp;          required = true,
&nbsp;          content = @Content(
&nbsp;              schema = @Schema(implementation = StudentDetail.class)
&nbsp;          )
&nbsp;      )
&nbsp;  )
&nbsp;  @PostMapping(&quot;/registerStudent&quot;)
&nbsp;  public ResponseEntity&lt;StudentDetail&gt; registerStudent(
&nbsp;      @RequestBody @Valid StudentDetail studentDetail) {
<b class="fc">&nbsp;    StudentDetail registeredStudentDetail = service.registerStudent(studentDetail);</b>
<b class="fc">&nbsp;    return ResponseEntity.ok(registeredStudentDetail);</b>
&nbsp;  }
&nbsp;
&nbsp;
&nbsp;  /**
&nbsp;   * 受講生詳細を更新します。
&nbsp;   *
&nbsp;   * @param studentDetail 受講生詳細
&nbsp;   * @return 処理結果
&nbsp;   * @throws StudentNotFoundException       受講生が存在しない場合の例外処理
&nbsp;   * @throws StudentCourseNotFoundException 　受講生コース情報が存在しない場合の例外処理
&nbsp;   */
&nbsp;  @Operation(
&nbsp;      summary = &quot;受講生更新&quot;,
&nbsp;      description = &quot;受講生の情報を更新します。指定した受講生情報や受講生コース情報が存在しない場合、エラーを発生させます。&quot;,
&nbsp;      responses = {
&nbsp;          @ApiResponse(
&nbsp;              responseCode = &quot;200&quot;, description = &quot;ok&quot;,
&nbsp;              content = @Content(
&nbsp;                  mediaType = &quot;text/plain;charset=UTF-8&quot;,
&nbsp;                  schema = @Schema(
&nbsp;                      type = &quot;string&quot;,
&nbsp;                      example = &quot;更新に成功しました&quot;
&nbsp;                  )
&nbsp;              )
&nbsp;          ),
&nbsp;          @ApiResponse(
&nbsp;              responseCode = &quot;400&quot;, description = &quot;リクエストボディのバリデーションエラー&quot;,
&nbsp;              content = @Content(
&nbsp;                  mediaType = &quot;application/json&quot;,
&nbsp;                  schema = @Schema(implementation = ErrorResponse.class)
&nbsp;              )
&nbsp;          ),
&nbsp;          @ApiResponse(
&nbsp;              responseCode = &quot;404&quot;, description = &quot;指定されたIDの受講生または受講生コース情報が存在しない場合のエラー&quot;,
&nbsp;              content = @Content(
&nbsp;                  mediaType = &quot;application/json&quot;,
&nbsp;                  schema = @Schema(implementation = ErrorResponse.class)
&nbsp;              )
&nbsp;          ),
&nbsp;      },
&nbsp;      requestBody = @io.swagger.v3.oas.annotations.parameters.RequestBody(
&nbsp;          description = &quot;更新したい受講生詳細&quot;,
&nbsp;          required = true,
&nbsp;          content = @Content(
&nbsp;              schema = @Schema(implementation = StudentDetail.class)
&nbsp;          )
&nbsp;      )
&nbsp;  )
&nbsp;  @PutMapping(&quot;/updateStudent&quot;)
&nbsp;  public ResponseEntity&lt;String&gt; updateStudent(@RequestBody @Valid StudentDetail studentDetail)
&nbsp;      throws StudentNotFoundException, StudentCourseNotFoundException {
<b class="fc">&nbsp;    service.updateStudent(studentDetail);</b>
<b class="fc">&nbsp;    return ResponseEntity.ok(&quot;更新に成功しました&quot;);</b>
&nbsp;  }
&nbsp;
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2024-11-29 11:08</div>
</div>
</body>
</html>
